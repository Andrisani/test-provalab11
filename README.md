# Test-provalab11

## Supermercato

Spett. Ditta, 

In seguito all’incontro relativo alle modalità di funzionamento del nuovo sistema di cassa, vi 
trasmettiamo le informazioni richieste dal vostro analista. 

Un  recente  sondaggio  ha  evidenziato  il  problema  dell’attesa  in  coda  per  il  pagamento  della 
**spesa**  effettuata presso i nostri supermercati. 

Sempre nel sondaggio, l’utenza ha recepito po-sitivamente la possibilità di utilizzare strumenti per la registrazione della spesa e il pagamento mediante  **carte**  fedeltà,  tra  l’altro  già  in  uso  presso  la  nostra  catena  di  distribuzione.  

La proposta su cui stiamo lavorando prevede che il **cliente** utilizzi un dispositivo (**pistola**) dotato 
di  un  **lettore  ottico**  per  leggere  il  **codice**  a  barre  degli  **articoli**  aggiunti  e  tolti  dal  suo 
carrello.  

Prima  di  effettuare  la  spesa,  il  cliente  attiva  una  pistola  disponibile  nell’isola  di 
pagamento  inserendo  la  sua  carta  nel  **lettore  digitale**  della  pistola  e,  successivamente, 
autenticandosi  mediante  un  PIN.  

Se  la  fase  di  autenticazione  termina  con  successo  il  cliente preleva  la  pistola.  Sullo  schermo  a  cristalli  liquidi  della  base,  nel  frattempo,  è  comparso  il **massimale residuo** che può spendere nel mese corrente. 

Al momento dell’attivazione della carta, infatti, il cliente concorda con l’ufficio vendite il **massimale mensile**, ovvero l’importo che può spendere in un mese nei nostri supermercati usando la carta. 

Al termine della spesa, il cliente torna all’isola di pagamento e ripone la pistola in una base libera. Così facendo, la pistola si collega al sistema centrale, invia l’elenco degli articoli della spesa e riceve l’**importo** della spesa da pagare. 

Il cliente preme il pulsante di accettazione del pagamento, presente nella base, ritira prima la carta e poi lo scontrino relativo alla spesa. Prima di consegnare la carta al cliente, si aggiorna il massimale residuo, il sistema centrale aggiorna i **punti** fedeltà del cliente e invia un ordine di pagamento alla banca indicata dal cliente. 

Se l’importo è superiore al massimale residuo,  sullo  schermo  compare  un  messaggio  che  invita  il  cliente  a  prendere  la  pistola  e  a togliere  alcuni  articoli  dalla  spesa.  

Analogamente,  il  cliente  può  decidere,  dopo  aver  visto l’importo  della  spesa,  di  prendere  la  pistola  e  modificare  la  spesa.  

Un  caso  particolare  si presenta quando il carrello è vuoto e l’importo è pari a zero: il cliente riconsegna la pistola e ritira la carta senza che sia emesso lo scontrino. 

In attesa di un vostro riscontro.  

Cordiali saluti, 

Ing. Salvo La cassa 

****

**Domanda n.1**. Dare un diagramma delle classi, considerando come classi o attributi i termini che nell’enunciato compaiono in grassetto. 

**Domanda n.2**. Si dia un diagramma di sequenza che realizzi il caso d’uso AttivazionePistola. 